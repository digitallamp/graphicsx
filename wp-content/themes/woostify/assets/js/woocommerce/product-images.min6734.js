"use strict";function renderSlider(e,t){var i=document.querySelectorAll(e);if(i.length)for(var n=0,o=i.length;n<o;n++)if(!i[n].classList.contains("flickity-enabled"))new Flickity(t.container,t)}function createImages(e,t,i){var n='<figure class="image-item ez-zoom" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">';return n+="<a href="+e+" data-size="+i+' itemprop="contentUrl" data-elementor-open-lightbox="no">',n+="<img src="+t+' itemprop="thumbnail">',n+="</a>",n+="</figure>"}function createThumbnails(e){var t='<div class="thumbnail-item">';return t+='<img src="'+e+'">',t+="</div>"}function woostifyStickySummary(){var e=document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails"),t=document.querySelector(".has-gallery-list-layout .product-summary");if(e&&t&&!(window.innerWidth<992)&&!(e.offsetHeight<=t.offsetHeight)){var i=new WSYSticky(".summary.entry-summary",{stickyContainer:".product-page-container",marginTop:parseInt(woostify_woocommerce_general.sticky_top_space),marginBottom:parseInt(woostify_woocommerce_general.sticky_bottom_space)});jQuery("form.variations_form").on("found_variation",(function(){i.update()}))}}document.addEventListener("DOMContentLoaded",(function(){var e,t,i,n=document.querySelector(".product-gallery"),o=document.getElementById("product-thumbnail-images"),r=!!n&&(n.classList.contains("column-style")||n.classList.contains("grid-style")),a=document.createElement("button"),s=document.createElement("button"),c=woostify_product_images_slider_options.main,l=!!n&&n.querySelector(".image-item img"),u=(l&&l.offsetHeight,woostify_product_images_slider_options.thumb);function d(){var e=!!n&&n.querySelector(".image-item img"),t=e?e.offsetHeight:0;o.style.maxHeight=t+"px"}function m(){if(o&&n&&(n.classList.contains("horizontal-style")||window.matchMedia("( max-width: 767px )").matches)){var e=o.querySelectorAll(".thumbnail-item"),t=0;e.length&&e.forEach((function(e){var i=e.offsetWidth;i+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-left")),i+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-right")),t+=i})),t>=o.offsetWidth?(u.groupCells="60%",u.wrapAround=!0,i&&i.slider&&(i.destroy(),i=new Flickity(u.container,u))):(u.groupCells="3",u.wrapAround=!1,i&&i.slider&&(i.destroy(),i=new Flickity(u.container,u)))}}function y(){var e=document.querySelector(".flickity-button.next"),t=document.querySelector(".flickity-button.previous");e&&(e.innerHTML=woostify_product_images_slider_options.next_icon),t&&(t.innerHTML=woostify_product_images_slider_options.prev_icon)}function f(){var e=o.querySelectorAll(".thumbnail-item"),t=0;e.length&&e.forEach((function(e){var i=e.offsetHeight;i+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-top")),i+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-bottom")),t+=i})),t>o.offsetHeight?(o.classList.add("has-buttons"),s.style.display="block",a.style.display="block"):(o.classList.remove("has-buttons"),s.style.display="none",a.style.display="none")}function p(){!document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails")||window.innerWidth>991||(c.on={ready:function(){y()}},e=new Flickity("#product-images",c))}function h(){var e=o,i=e.querySelectorAll(".thumbnail-item");i[0].classList.add("is-nav-selected"),i[0].classList.add("is-selected"),i.forEach((function(e,i){e.addEventListener("click",(function(){t.select(i)}))}));var n=0<t.selectedIndex?i[t.selectedIndex].offsetHeight:i[0].offsetHeight,r=e.offsetHeight;t.on("select",(function(){e.querySelectorAll(".thumbnail-item").forEach((function(e){e.classList.remove("is-nav-selected","is-selected")}));var o=0<=t.selectedIndex?i[t.selectedIndex]:i[0];o.classList.add("is-nav-selected","is-selected");var a=o.offsetTop+e.scrollTop-(r+n)/2;e.scrollTo({top:a,behavior:"smooth"})}))}function g(){t&&t.slider&&t.select(0),e&&e.slider&&e.select(0)}function w(o,a,s){if(o.length&&!document.documentElement.classList.contains("quick-view-open")){n||(n=document.querySelector(".product-gallery"));for(var l="",d="",y=0,h=o.length;y<h;y++)if(a){var g=o[y].full_src_w+"x"+o[y].full_src_h;l+=createImages(o[y].full_src,o[y].src,g),d+=createThumbnails(o[y].gallery_thumbnail_src)}else if(s&&s==o[y][0].variation_id)for(var w=1,_=o[y].length;w<_;w++){g=o[y][w].full_src_w+"x"+o[y][w].full_src_h;l+=createImages(o[y][w].full_src,o[y][w].src,g),d+=createThumbnails(o[y][w].gallery_thumbnail_src)}t&&t.slider&&t.destroy(),i&&i.slider&&i.destroy(),e&&e.slider&&e.destroy(),l&&document.querySelector(".product-images")&&(document.querySelector(".product-images").querySelector("#product-images").innerHTML=l),document.querySelector(".product-thumbnail-images")&&(d?(document.querySelector(".product-thumbnail-images").querySelector("#product-thumbnail-images").innerHTML=d,document.querySelector(".product-gallery")&&document.querySelector(".product-gallery").classList.add("has-product-thumbnails")):document.querySelector(".product-thumbnail-images").innerHTML=""),r?p():(t&&(t=new Flickity(c.container,c)),m(),d&&(i&&(i=new Flickity(u.container,u)),setTimeout((function(){f()}),200)));var v=document.querySelectorAll(".product-thumbnail-images .thumbnail-item");document.querySelector(".product-thumbnail-images")&&(v.length<2?document.querySelector(".product-thumbnail-images").classList.add("has-single-thumbnail-image"):document.querySelector(".product-thumbnail-images")&&document.querySelector(".product-thumbnail-images").classList.remove("has-single-thumbnail-image")),"function"==typeof easyZoomHandle&&easyZoomHandle(),"function"==typeof initPhotoSwipe&&(n.classList.contains("wc-default-gallery")||r&&window.matchMedia("( min-width: 992px )").matches?initPhotoSwipe("#product-images","image"):initPhotoSwipe("#product-images","button"))}}function _(){jQuery("form.variations_form").on("found_variation",(function(e,t){g(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&w(woostify_variation_gallery,!1,t.variation_id)})),jQuery(".reset_variations").on("click",(function(){"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&w(woostify_default_gallery,!0),g(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),(document.body.classList.contains("elementor-editor-active")||document.body.classList.contains("elementor-editor-preview"))&&(document.getElementById("product-thumbnail-images")||document.querySelector(".product-gallery").classList.remove("has-product-thumbnails"))}))}window.matchMedia("( min-width: 768px )").matches&&n&&n.classList.contains("vertical-style")&&(u.draggable=!1),o&&(c.on={ready:function(){y(),window.matchMedia("( min-width: 768px )").matches&&n&&n.classList.contains("vertical-style")&&d()}},t=new Flickity(c.container,c),m(),n&&(window.matchMedia("( max-width: 767px )").matches?i=new Flickity(u.container,u):n.classList.contains("vertical-style")?(h(),function(){var e=o.parentElement;a.classList.add("thumb-btn","thumb-prev-btn","prev"),a.innerHTML=woostify_product_images_slider_options.vertical_prev_icon,s.classList.add("thumb-btn","thumb-next-btn","next"),s.innerHTML=woostify_product_images_slider_options.vertical_next_icon,e.appendChild(a),e.appendChild(s),f();var i=document.querySelectorAll(".thumb-btn");i.length&&i.forEach((function(e){e.addEventListener("click",(function(){this.classList.contains("prev")?t.previous():t.next()}))}))}()):i=new Flickity(u.container,u))),window.addEventListener("resize",(function(){window.matchMedia("( min-width: 768px )").matches&&n&&n.classList.contains("vertical-style")&&o&&(d(),h(),f()),m()})),_(),p(),window.addEventListener("load",(function(){woostifyStickySummary()})),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){document.getElementById("product-thumbnail-images")&&(renderSlider(c.container,c),renderSlider(u.container,u)),_()}))}))}));